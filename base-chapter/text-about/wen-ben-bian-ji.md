# vim
- vim（vi的增强版）是我最喜欢的编辑器，也是linux下第二强大的编辑器 
- 虽然emacs是公认的世界第一，但我认为emacs并没有vi编辑来得高效
- 如果是初学vi，运行一下vimtutor是个聪明的决定。(如果你的系统环境不是中文，而你想使用中文的vimtutor，就运行vimtutor zh）



# vim的模式
- 正常模式（normal-mode）：可以使用快捷键
- 插入模式（insert-mode）：可以输入文本
- 命令模式（command-mode）：可以执行命令，又称末行模式
- 替换模式（replace-mode）：替换光标后的文字
- 可视模式（visual-mode）：按行或按列选择区块

> *注意后续带冒号（:）开头的字符命令都是在命令模式下，否则在正常模式下*



# 模式切换
## 正常模式 －》 插入模式
打开Vim时是正常模式。在任何模式下，只要按下`Esc`键就可以返回正常模式

|快捷键 | 功能 |
|--- |--- |
|i | 在光标左侧输入正文 |
|I | 在光标所在行的行首输入正文，此行首指第一个非空白字符处 |
|a | 在光标右侧输入正文 |
|A | 在光标所在行的行尾输入正文 |
|s | 删除光标所在的字符，并进入输入模式 |
|S | 删除光标所在的行，并进入输入模式 |
|o | 在光标所在行的下一行增添新行，光标位于新行的行首 |
|O | 在光标所在行的上一行增添新行，光标位于新行的行首 |
|r | 修改光标所在字符，r后面跟要修改为的字符 |
|R | 替换光标所在处开始的字符，直到按【ESC】回到普通模式 |


## 正常模式 －》 命令模式
按冒号（:）即可进入命令模式，又称末行模式


## 正常模式 －》 替换模式
按大写的R即可进入替换模式，替换光标所在处开始的字符，直到按【ESC】回到普通模式


## 正常模式 －》 可视模式
|快捷键 | 功能 |
|--- |--- |
|v | 进入可视模式，移动光标可以选择文本 |
|V | 进入可视行模式，总是整行整行的选中 |
|ctrl+v | 进入可视块模式，左右移动选择区块 |



# 启动vim
vim可以启动多个文件
```
vim [选项] [文件...]
```

|命令 | 功能 |
|--- |--- |
|vim -b file | 用二进制模式打开 |
|vim -c cmd file | 在打开文件前，先执行指定的命令 |
|vim -r file | 恢复上次异常退出的文件 |
|vim -R file | 以只读的方式打开文件，但可以强制保存 |
|vim -M file | 以只读的方式打开文件，不可以强制保存 |
|vim -y num file | 将编辑窗口的大小设为num行 |
|vim + file | 从文件的末尾开始 |
|vim +num file | 从第num行开始 |
|vim +/string file | 打开file，并将光标停留在第一个找到的string上 |
|vim --remote file | 用已有的vim进程打开指定的文件|


# 退出vim
退出vim将是初学者面临的第一大难题，趣闻可以参考[这里][2]

|快捷键 | 功能 |
|--- |--- |
|:wq或:x | 保存文件，退出vi编辑器 |
|:w | 保存文件，但不退出vi编辑器 |
|:q | 退出vi编辑器 |
|:q! | 不保存文件，退出vi编辑器 |
|ZZ | 保存文件，退出vi编辑器 |

> 在字符命令后加上字符`a`表示操作全部文件，如`qa`退出所有文件



# vim光标的移动
|快捷键 | 功能 |
|--- |--- |
|h或退格 | 左移一个字符 |
|l或空格 | 右移一个字符 |
|j | 下移一行 |
|k | 上移一行 |
|gj | 移动到一段内的下一行 |
|gk | 移动到一段内的上一行 |
|Enter或+ | 把光标移至下一行第一个非空白字符 |
|- | 把光标移至上一行第一个非空白字符 |
|w | 移动***下一个***单词***开头*** |
|W | 移动***下一个***单词***开头***，但忽略一些标点符号 |
|e | 移动***下一个***单词***末尾*** |
|E | 移动***下一个***单词***末尾***，但忽略一些标点符号 |
|b | 移动到***上一个***单词***开头*** |
|B | 移动到***上一个***单词***开头***，忽略一些标点符号 |
|ge | 移动到***上一个***单词***末尾*** |
|gE | 移动到***上一个***单词***末尾***，忽略一些标点符号 |
|( | 前移1句 |
|) | 后移1句 |
|{ | 前移1段 |
|} | 后移1段 |
|fc | 把光标移到同一行的下一个c字符处，**c可换为其他字符** |
|Fc | 把光标移到同一行的上一个c字符处，**c可换为其他字符**|
|tc | 把光标移到同一行的下一个c字符前，**c可换为其他字符** |
|Tc | 把光标移到同一行的上一个c字符后，**c可换为其他字符** |
|; | 配合f & t使用，重复一次 |
|, | 配合f & t使用，反向重复一次 |
> 上面的操作都可以配合数字n使用，比如3h， 则光标向左移动3个字符。


|快捷键 | 功能 |
|--- |--- |
|0 | 移动到行首 |
|g0 | 移到光标所在屏幕行行首 |
|^ | 移动到本行第一个非空白字符 |
|g^ | 移动到光标所在屏幕行第一个非空白字符处 |
|$ | 移动到行尾 |
|g$ | 移动光标所在屏幕行行尾 |
|n\| |把光标移到递n列上 |
|nG |到文件第n行 |
|:n | 移动到第n行 |
|:$ | 移动到最后一行 |
|H |把光标移到屏幕最顶端一行 |
|M |把光标移到屏幕中间一行 |
|L |把光标移到屏幕最底端一行 |
|gg |到文件头部 |
|G |到文件尾部 |

<br/>

---

# 参考

[Vim使用笔记][1]
[Stack Overflow：帮助一百万开发者退出 Vim][2]
[vim命令模式与输入模式切换][3]

[1]: http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html
[2]: https://zhuanlan.zhihu.com/p/27077076?group_id=851013503740411904
[3]: http://psnx168.blog.51cto.com/1802357/1431941
